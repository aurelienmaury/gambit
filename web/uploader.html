<html>
<head>
<script>
function upload(file) {
  var xhr = new XMLHttpRequest();
  
  xhr.upload.addEventListener("progress", function(e) {
        if (e.lengthComputable) {
          var percentage = Math.round((e.loaded * 100) / e.total);
          console.log('ok:'+percentage+'%');
        }
      }, false);
   
  xhr.upload.addEventListener("load", function(e){
          console.log('finished');
          
      }, false);
  xhr.open("PUT", "/upload?filename=customName");
  
  xhr.send(file); 
};


window.onload = function() {
  var dropzone = document.getElementById("dropzone");
  dropzone.ondragover = dropzone.ondragenter = function(event) {
      event.stopPropagation();
      event.preventDefault();
  }

  dropzone.ondrop = function(event) {
      event.stopPropagation();
      event.preventDefault();

      var filesArray = event.dataTransfer.files;
      for (var i=0; i<filesArray.length; i++) {
          upload(filesArray[i]);
      }
  }
};
</script>
</head>
<body>
  
  <div>
  <input type="file" id="fileElem">
  <input type="button" value="send" onclick="upload(document.getElementById('fileElem').files[0])"/>
  </div>
  <div>
        <div id="dropzone" style="margin:30px; width:500px; height:300px; border:1px dotted grey;">
          Drag & drop your file here...
        </div>
    </div>
</body>
</html>